<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>iOS Animation Test</title>
  <style>
    body {
      margin: 0;
      background: #020617;
      color: #fff;
      font-family: system-ui, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 2rem;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 3rem;
      text-align: center;
    }

    .test-box {
      background: #1a1a2e;
      padding: 2rem;
      border-radius: 1rem;
      margin-bottom: 2rem;
      width: 100%;
      max-width: 400px;
    }

    .test-title {
      color: #35f0e8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    /* TEST 1: Pure CSS Animation */
    .test1-text {
      font-size: 1.5rem;
      color: #35f0e8;
      animation: fade 3s infinite;
    }

    @keyframes fade {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* TEST 2: CSS Transition (JavaScript toggles class) */
    .test2-text {
      font-size: 1.5rem;
      color: #35f0e8;
      transition: opacity 0.9s ease;
    }

    .test2-text.hidden {
      opacity: 0;
    }

    /* TEST 3: Transform + Opacity */
    .test3-text {
      font-size: 1.5rem;
      color: #35f0e8;
      transition: opacity 0.9s ease, transform 0.9s ease;
      transform: translate3d(0, 0, 0);
    }

    .test3-text.hidden {
      opacity: 0;
      transform: translate3d(20px, 0, 0);
    }

    .status {
      margin-top: 1rem;
      padding: 0.5rem;
      background: #000;
      border-radius: 0.5rem;
      font-family: monospace;
      font-size: 0.75rem;
    }

    .pass { color: #22c55e; }
    .fail { color: #ef4444; }

    button {
      background: #35f0e8;
      color: #020617;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>üîç iOS Animation Test</h1>

  <!-- TEST 1: Pure CSS -->
  <div class="test-box">
    <div class="test-title">Test 1: Pure CSS Animation</div>
    <div class="test1-text">FADING TEXT</div>
    <div class="status">
      Should fade in/out every 3 seconds automatically
    </div>
  </div>

  <!-- TEST 2: JavaScript + CSS -->
  <div class="test-box">
    <div class="test-title">Test 2: JavaScript + Opacity</div>
    <div class="test2-text" id="test2">G√ú√áL√ú Hƒ∞SSET</div>
    <div class="status" id="status2">Waiting...</div>
  </div>

  <!-- TEST 3: Transform + Opacity -->
  <div class="test-box">
    <div class="test-title">Test 3: Transform + Opacity</div>
    <div class="test3-text" id="test3">G√ú√áL√ú Hƒ∞SSET</div>
    <div class="status" id="status3">Waiting...</div>
  </div>

  <!-- Diagnostic Info -->
  <div class="test-box">
    <div class="test-title">Diagnostic Info</div>
    <div class="status" id="info">Loading...</div>
    <button onclick="runManualTest()">Run Manual Test</button>
  </div>

  <script>
    // Display device info
    const info = document.getElementById('info');
    info.innerHTML = `
      Device: ${navigator.userAgent.match(/iPhone|iPad|iPod/) ? 'iOS' : 'Not iOS'}<br>
      iOS: ${navigator.userAgent.match(/OS (\d+)_/)?.[1] || 'Unknown'}<br>
      Screen: ${window.innerWidth}x${window.innerHeight}<br>
      DPR: ${window.devicePixelRatio}
    `;

    // TEST 2: Opacity only
    const test2 = document.getElementById('test2');
    const status2 = document.getElementById('status2');
    const words2 = ['G√ú√áL√ú Hƒ∞SSET', 'BUG√úN BA≈ûLA', 'Fƒ∞T YA≈ûA'];
    let idx2 = 0;

    setInterval(() => {
      test2.classList.add('hidden');
      status2.innerHTML = '<span class="pass">Fading out...</span>';
      
      setTimeout(() => {
        idx2 = (idx2 + 1) % words2.length;
        test2.textContent = words2[idx2];
        test2.classList.remove('hidden');
        status2.innerHTML = '<span class="pass">Fading in...</span>';
      }, 900);
    }, 3000);

    // TEST 3: Transform + Opacity
    const test3 = document.getElementById('test3');
    const status3 = document.getElementById('status3');
    const words3 = ['G√ú√áL√ú Hƒ∞SSET', 'BUG√úN BA≈ûLA', 'Fƒ∞T YA≈ûA'];
    let idx3 = 0;

    setInterval(() => {
      test3.classList.add('hidden');
      status3.innerHTML = '<span class="pass">Fading + sliding...</span>';
      
      setTimeout(() => {
        idx3 = (idx3 + 1) % words3.length;
        test3.textContent = words3[idx3];
        test3.classList.remove('hidden');
        status3.innerHTML = '<span class="pass">Back to position...</span>';
      }, 900);
    }, 3200);

    // Manual test
    function runManualTest() {
      alert('Watch Test 2 box - it should smoothly fade');
      test2.classList.add('hidden');
      setTimeout(() => {
        test2.textContent = 'MANUAL TEST';
        test2.classList.remove('hidden');
        setTimeout(() => {
          test2.textContent = words2[idx2];
        }, 2000);
      }, 1000);
    }

    // Console logs
    console.log('üß™ Test page loaded');
    console.log('üì± Device:', navigator.userAgent);
    console.log('‚úÖ Test 1: Pure CSS (should always work)');
    console.log('‚úÖ Test 2: JS + Opacity (should work on all iOS)');
    console.log('‚úÖ Test 3: JS + Transform (might be choppy on iOS)');
  </script>
</body>
</html>
