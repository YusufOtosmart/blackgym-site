<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>Online Antrenman Kronometresi (Stopwatch + Interval/Tabata) | BLACK GYM</title>
  <meta name="description" content="Ãœcretsiz online antrenman kronometresi: Kronometre + Interval/Tabata. Tur sÃ¼relerini kaydedin, aralÄ±klarÄ± otomatik yÃ¶netin. Ä°ndirme yok." />

  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
  <link rel="canonical" href="https://blackgym.com.tr/chrono.html" />
  <link rel="alternate" href="https://blackgym.com.tr/chrono.html" hreflang="tr" />
  <meta name="theme-color" content="#0b0b0f" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg:#070A10;
      --bg2:#0B1020;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --stroke:rgba(255,255,255,.10);
      --stroke2:rgba(148,163,184,.22);
      --text:#E5E7EB;
      --muted:#9CA3AF;
      --muted2:#A7B0C0;
      --brand:#8FE6FF;
      --brand2:#4FB6FF;
      --danger:#FF4D4D;
      --ok:#22C55E;
      --shadow: 0 14px 60px rgba(0,0,0,.55);
      --radius: 22px;
      --radius2: 16px;

      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      color:var(--text);
      font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(900px 500px at 20% -10%, rgba(79,182,255,.18), transparent 60%),
        radial-gradient(900px 500px at 100% 0%, rgba(143,230,255,.12), transparent 60%),
        radial-gradient(700px 420px at 40% 110%, rgba(79,182,255,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
    }

    a{color:inherit; text-decoration:none;}

    .skip-link{
      position:absolute; left:-999px; top:10px;
      background:#fff; color:#000; padding:.5rem .75rem; border-radius:10px;
      z-index:9999;
    }
    .skip-link:focus{left:10px;}

    /* Header */
    .site-header{
      position:sticky; top:0; z-index:50;
      padding: calc(.55rem + var(--safe-top)) 0 .55rem;
      background:linear-gradient(180deg, rgba(7,10,16,.86), rgba(7,10,16,.55));
      backdrop-filter: blur(14px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .container{width:min(1100px, 92vw); margin:0 auto;}
    .nav-container{display:flex; align-items:center; justify-content:space-between; gap:1rem;}
    .logo{display:flex; align-items:center; gap:.6rem;}
    .logo-mark{width:28px; height:28px; object-fit:contain;}
    .logo-text{display:flex; gap:.25rem; font-weight:800; letter-spacing:.5px;}
    .logo-text-main{opacity:.95;}
    .logo-text-accent{color:var(--brand);}

    .nav-toggle{display:none;}
    .nav-links{display:flex; gap:1rem; list-style:none; padding:0; margin:0;}
    .nav-links a{color:rgba(229,231,235,.86); font-weight:600; font-size:.92rem;}
    .nav-links a:hover{color:#fff;}

    @media (max-width: 780px){
      .nav-toggle{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        width:42px; height:42px;
        border-radius:14px;
        background:rgba(255,255,255,.06);
        border:1px solid rgba(255,255,255,.08);
        color:#fff;
      }
      .nav-toggle span{display:block; width:18px; height:2px; background:#fff; border-radius:2px; margin:3px 0; opacity:.9;}
      .nav{position:absolute; left:0; right:0; top:100%; display:none;}
      .nav.is-open{display:block;}
      .nav-links{flex-direction:column; padding:12px; margin:10px auto; width:min(1100px, 92vw);
        background:rgba(7,10,16,.92); border:1px solid rgba(255,255,255,.08);
        border-radius:16px; backdrop-filter: blur(12px);
      }
    }

    /* App shell */
    main{padding-bottom: calc(20px + var(--safe-bottom));}

    .chrono-app{
      min-height: calc(100vh - 78px);
      display:grid;
      place-items:center;
      padding: 20px 0 22px;
    }

    .chrono-container{
      width:min(560px, 92vw);
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      position:relative;
      overflow:hidden;
    }

    .chrono-container::before{
      content:"";
      position:absolute; inset:-2px;
      background:radial-gradient(600px 200px at 50% 0%, rgba(143,230,255,.22), transparent 60%);
      pointer-events:none;
      opacity:.85;
    }

    .top-row{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 4px 2px 10px;
    }

    .mode-tabs{
      display:inline-flex;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      border-radius:999px;
      padding:4px;
      gap:4px;
    }

    .tab{
      border:0;
      background:transparent;
      color:rgba(229,231,235,.80);
      font-weight:800;
      font-size:.78rem;
      letter-spacing:.5px;
      padding: 9px 12px;
      border-radius:999px;
      cursor:pointer;
      transition:.18s ease;
    }
    .tab[aria-selected="true"]{
      background:rgba(143,230,255,.18);
      color:#fff;
      box-shadow: inset 0 0 0 1px rgba(143,230,255,.22);
    }

    .icon-btn{
      width:44px; height:44px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border-radius: 14px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      color:#fff;
      cursor:pointer;
      transition:.18s ease;
      flex-shrink:0;
    }
    .icon-btn:hover{transform: translateY(-1px);}
    .icon-btn:active{transform: translateY(0px) scale(.99);}
    
    .icon-btn svg{
      display:block;
      width:20px;
      height:20px;
    }

    .time-wrap{position:relative; padding: 8px 6px 6px; text-align:center;}

    .time-display{
      font-family:Montserrat, sans-serif;
      font-weight:700;
      font-size: clamp(64px, 12vw, 96px);
      letter-spacing: -1px;
      line-height: 1;
      text-shadow: 0 10px 40px rgba(0,0,0,.55);
      user-select:none;
      font-variant-numeric: tabular-nums;
      min-height: 1.2em;
    }

    .time-display .ms{
      font-size: .48em; 
      color: rgba(143,230,255,.95);
      font-variant-numeric: tabular-nums;
      font-weight:600;
    }

    .subline{
      display:flex;
      justify-content:center;
      gap:10px;
      align-items:center;
      margin-top: 10px;
      color: var(--muted);
      font-size: .92rem;
    }

    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
      min-width: 120px;
      justify-content:center;
    }

    .badge b{
      font-variant-numeric: tabular-nums;
    }

    .controls{
      position:relative;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 16px;
    }

    .btn{
      border:0;
      border-radius: 16px;
      padding: 14px 14px;
      font-weight:900;
      letter-spacing:.7px;
      font-size: .95rem;
      cursor:pointer;
      transition: .18s ease;
      user-select:none;
      min-height: 52px;
    }

    .btn-primary{
      grid-column: 1 / -1;
      background: linear-gradient(180deg, rgba(143,230,255,.95), rgba(79,182,255,.92));
      color:#071019;
      box-shadow: 0 18px 35px rgba(79,182,255,.20);
    }
    .btn-primary:hover{transform: translateY(-1px);}
    .btn-primary:active{transform: translateY(0px) scale(.995);}

    .btn-ghost{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(229,231,235,.92);
    }

    .btn-danger{
      background: rgba(255,77,77,.12);
      border: 1px solid rgba(255,77,77,.25);
      color: rgba(255,220,220,.95);
    }

    .btn:disabled{opacity:.45; cursor:not-allowed; transform:none !important;}

    .lap-panel{
      position:relative;
      margin-top: 12px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius2);
      overflow:hidden;
    }

    .lap-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding: 12px 12px;
      color: rgba(229,231,235,.88);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .lap-header .title{font-weight:900; letter-spacing:.5px;}
    .lap-header .meta{color: var(--muted); font-weight:700; font-size:.9rem;}

    .laps{
      max-height: 260px;
      overflow:auto;
      padding: 6px;
      scroll-behavior:smooth;
    }

    .lap-item{
      display:grid;
      grid-template-columns: 56px 1fr 1fr;
      gap:10px;
      align-items:center;
      padding: 10px 10px;
      margin: 6px 0;
      border-radius: 14px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.06);
    }

    .lap-idx{
      font-family:Montserrat, sans-serif;
      color: rgba(229,231,235,.86);
      letter-spacing:.5px;
      font-size: .95rem;
      text-align:center;
      opacity:.95;
      font-weight:700;
    }

    .lap-col{
      display:flex;
      flex-direction:column;
      gap:3px;
    }

    .lap-col .label{color: var(--muted); font-size:.78rem; font-weight:800; letter-spacing:.4px;}
    .lap-col .val{
      font-family:Montserrat, sans-serif; 
      font-size: 1.05rem; 
      letter-spacing:.3px;
      font-variant-numeric: tabular-nums;
      font-weight:700;
    }
    
    /* Natural best lap styling - subtle highlight instead of green */
    .lap-item.best{
      border-color: rgba(143,230,255,.35);
      background: rgba(143,230,255,.08);
    }

    .hint{
      margin-top: 12px;
      text-align:center;
      color: var(--muted);
      font-size:.9rem;
      position:relative;
    }

    .kbd{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-width: 28px;
      padding: 3px 8px;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      font-weight:900;
      color: rgba(229,231,235,.92);
      font-size:.82rem;
    }

    /* Settings sheet */
    dialog{
      width:min(560px, 92vw);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 22px;
      background: rgba(7,10,16,.92);
      color: var(--text);
      box-shadow: var(--shadow);
      padding: 0;
      overflow:hidden;
    }
    dialog::backdrop{background: rgba(0,0,0,.60); backdrop-filter: blur(6px);}

    .sheet-head{
      padding: 14px 14px;
      display:flex; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
    }
    .sheet-head .h{font-weight:900; letter-spacing:.5px;}

    .sheet-body{padding: 14px;}

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    label{display:flex; flex-direction:column; gap:6px; font-weight:800; color: rgba(229,231,235,.90);}
    input, select{
      padding: 12px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      outline:none;
      font-weight:800;
    }
    input:focus, select:focus{border-color: rgba(143,230,255,.35); box-shadow: 0 0 0 4px rgba(143,230,255,.10);}

    .switch{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      margin-top: 12px;
      gap: 10px;
    }

    .switch .txt{display:flex; flex-direction:column; gap:2px;}
    .switch .txt small{color: var(--muted); font-weight:700;}

    .switch input[type="checkbox"]{
      width: 44px; height: 26px;
      appearance:none;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 999px;
      position:relative;
      cursor:pointer;
      outline:none;
    }

    .switch input[type="checkbox"]::after{
      content:"";
      position:absolute;
      width: 20px; height: 20px;
      top: 50%; left: 3px;
      transform: translateY(-50%);
      border-radius: 50%;
      background: rgba(229,231,235,.95);
      transition:.18s ease;
    }

    .switch input[type="checkbox"]:checked{
      background: rgba(143,230,255,.28);
      border-color: rgba(143,230,255,.35);
    }

    .switch input[type="checkbox"]:checked::after{left: 21px; background:#fff;}

    .sheet-actions{
      display:flex; gap:10px; padding: 14px; border-top:1px solid rgba(255,255,255,.08);
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: calc(18px + var(--safe-bottom));
      transform: translateX(-50%);
      background: rgba(7,10,16,.90);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 999px;
      padding: 10px 14px;
      color: rgba(229,231,235,.95);
      box-shadow: 0 14px 60px rgba(0,0,0,.55);
      display:none;
      align-items:center;
      gap:10px;
      z-index: 999;
      max-width: 92vw;
      text-align:center;
      font-weight:800;
    }

    .toast.show{display:flex;}

    /* Below fold sections */
    .chrono-seo, .chrono-faq{width:min(900px, 92vw); margin: 34px auto; color: rgba(229,231,235,.88);}
    .chrono-seo article{background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius: 18px; padding: 18px;}
    .chrono-seo h1{margin-top:0; font-size: 1.5rem;}
    .chrono-seo h2{margin-top: 1.2rem;}
    .mini-cta{color: var(--brand); font-weight:900;}
    .chrono-faq details{background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius: 16px; padding: 12px 14px; margin: 10px 0;}
    .chrono-faq summary{cursor:pointer; font-weight:900;}

    .site-footer{border-top:1px solid rgba(255,255,255,.06); padding: 18px 0 calc(18px + var(--safe-bottom)); color: rgba(229,231,235,.70);}
    .footer-content{display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;}
    .footer-links a{color: rgba(229,231,235,.75); font-weight:800; margin-left:10px;}
    .footer-links a:hover{color:#fff;}

    @media (max-width: 420px){
      .lap-item{grid-template-columns: 48px 1fr 1fr;}
      .controls{grid-template-columns: 1fr;}
      .btn-primary{grid-column:auto;}
      .grid{grid-template-columns: 1fr;}
    }

    /* Hide keyboard shortcuts on mobile */
    @media (max-width: 768px){
      .hint{display:none;}
    }

    /* Accessibility */
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;}
  </style>
</head>

<body class="chrono-page">
  <a href="#main" class="skip-link">Ä°Ã§eriÄŸe atla</a>

  <header class="site-header" id="top">
    <div class="container nav-container">
      <a href="/" class="logo" aria-label="BLACK GYM Ana Sayfa">
        <img src="img/logo-mark.png" alt="BLACK GYM logo" class="logo-mark" />
        <span class="logo-text" aria-hidden="true">
          <span class="logo-text-main">BLACK</span>
          <span class="logo-text-accent">GYM</span>
        </span>
      </a>

      <button class="nav-toggle" id="navToggle" aria-label="MenÃ¼" aria-expanded="false" aria-controls="primary-nav">
        <span></span><span></span><span></span>
      </button>

      <nav class="nav" id="primary-nav">
        <ul class="nav-links">
          <li><a href="/#about">StÃ¼dyo</a></li>
          <li><a href="/#facilities">Alanlar</a></li>
          <li><a href="/#reviews">Yorumlar</a></li>
          <li><a href="/#hours">Saatler</a></li>
          <li><a href="/#pricing">Fiyatlar</a></li>
          <li><a href="/#contact">Ä°letiÅŸim</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main">

    <!-- FULL SCREEN APP -->
    <section class="chrono-app" aria-label="Kronometre UygulamasÄ±">
      <div class="chrono-container" role="application" aria-label="BLACK GYM Kronometre">

        <div class="top-row">
          <div class="mode-tabs" role="tablist" aria-label="Modlar">
            <button class="tab" id="tabStopwatch" role="tab" aria-selected="true">KRONOMETRE</button>
            <button class="tab" id="tabInterval" role="tab" aria-selected="false">INTERVAL</button>
          </div>

          <button class="icon-btn" id="settingsBtn" aria-label="Ayarlar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"/>
              <path d="M12 1v6m0 6v10M5.6 5.6l4.2 4.2m4.4 4.4l4.2 4.2M1 12h6m6 0h10M5.6 18.4l4.2-4.2m4.4-4.4l4.2-4.2"/>
            </svg>
          </button>
        </div>

        <div class="time-wrap">
          <div class="time-display" id="display" aria-live="polite" aria-label="SÃ¼re">
            00:00<span class="ms">.00</span>
          </div>

          <div class="subline" id="subline">
            <span class="badge" id="badgeLeft">Toplam: <b id="totalLabel">00:00.00</b></span>
            <span class="badge" id="badgeRight">Tur: <b id="lapLabel">00:00.00</b></span>
          </div>

          <p class="sr-only" id="srPhase"></p>
        </div>

        <div class="controls">
          <button class="btn btn-primary" id="startStopBtn">BAÅžLAT</button>
          <button class="btn btn-ghost" id="lapBtn" disabled>TUR</button>
          <button class="btn btn-danger" id="resetBtn">SIFIRLA</button>
        </div>

        <div class="lap-panel" aria-label="KayÄ±tlar">
          <div class="lap-header">
            <span class="title" id="lapsTitle">Turlar</span>
            <span class="meta" id="lapCount">0 KayÄ±t</span>
          </div>
          <div class="laps" id="lapsScroll">
            <ul class="sr-only" aria-hidden="true" id="lapsA11y"></ul>
            <div id="lapsList"></div>
          </div>
        </div>

        <p class="hint" id="hintLine">
          KÄ±sayollar: <span class="kbd">Space</span> BaÅŸlat/Duraklat â€¢ <span class="kbd">L</span> Tur â€¢ <span class="kbd">R</span> SÄ±fÄ±rla â€¢ <span class="kbd">S</span> Ayarlar
        </p>
      </div>
    </section>

    <!-- SEO CONTENT (below fold) -->
    <section class="chrono-seo" aria-label="Kronometre AÃ§Ä±klama">
      <article>
        <h1>Online Antrenman Kronometresi</h1>
        <p>
          <strong>Ãœcretsiz online kronometre</strong> ile <strong>HIIT</strong>, <strong>Tabata</strong> ve
          <strong>interval antrenman</strong> aralÄ±klarÄ±nÄ± pratik ÅŸekilde takip edin. Ä°ndirme gerektirmez;
          tur kayÄ±tlarÄ±nÄ±zÄ± saklar, isterseniz <strong>Interval</strong> modunda otomatik Ã§alÄ±ÅŸma/dinlenme yÃ¶netimi sunar.
        </p>

        <h2>NasÄ±l KullanÄ±lÄ±r?</h2>
        <p>
          <strong>BAÅžLAT</strong> ile sÃ¼reyi baÅŸlatÄ±n. <strong>TUR</strong> ile split (tur) kaydedin.
          <strong>INTERVAL</strong> modunda Ã§alÄ±ÅŸma/dinlenme sÃ¼relerini ayarlayÄ±n ve otomatik tur sayacÄ± kullanÄ±n.
          <strong>SIFIRLA</strong> tÃ¼m kayÄ±tlarÄ± temizler.
        </p>

        <h2>Tabata Ã–rneÄŸi</h2>
        <p>
          Klasik Tabata: <strong>20 sn Ã§alÄ±ÅŸma / 10 sn dinlenme</strong> (8 tur). Interval modunda bunu hazÄ±r preset olarak seÃ§ebilirsiniz.
        </p>

        <p>
          NilÃ¼fer / Bursa'da antrenman yapmak ister misin?
          <a class="mini-cta" href="/#contact">BLACK GYM ile iletiÅŸime geÃ§ â†’</a>
        </p>
      </article>
    </section>

    <!-- FAQ (below fold) -->
    <section class="chrono-faq" id="faq" aria-label="SÄ±k Sorulan Sorular">
      <h2>SÄ±k Sorulan Sorular</h2>

      <details>
        <summary>Bu kronometre HIIT ve Tabata antrenmanÄ±nda kullanÄ±lÄ±r mÄ±?</summary>
        <p>Evet. Kronometre modunda TUR ile split alabilir, Interval modunda Ã§alÄ±ÅŸma/dinlenme sÃ¼relerini otomatik yÃ¶netebilirsiniz.</p>
      </details>

      <details>
        <summary>Ä°deal set arasÄ± dinlenme sÃ¼resi ne kadar olmalÄ±?</summary>
        <p>Genel olarak hipertrofi iÃ§in 60â€“90 saniye, gÃ¼Ã§ odaklÄ± setler iÃ§in 3â€“5 dakika dinlenme tercih edilir. KiÅŸisel hedefe gÃ¶re deÄŸiÅŸebilir.</p>
      </details>

      <details>
        <summary>Interval modu nedir?</summary>
        <p>Ã‡alÄ±ÅŸma/dinlenme sÃ¼relerini ve tur sayÄ±sÄ±nÄ± belirleyip otomatik geri sayÄ±m yapar. Tabata ve HIIT iÃ§in idealdir.</p>
      </details>

      <details>
        <summary>KayÄ±tlarÄ±m kaybolur mu?</summary>
        <p>TarayÄ±cÄ±da yerel olarak (localStorage) saklanÄ±r. AynÄ± cihaz/tarayÄ±cÄ±da sayfayÄ± kapatÄ±p aÃ§sanÄ±z da geri gelir.</p>
      </details>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-content">
      <span>Â© <span id="year"></span> BLACK GYM Performance Tool Â· Bursa NilÃ¼fer</span>
      <span class="footer-links">
        <a href="https://www.instagram.com/blackgymconcept/" target="_blank" rel="noopener">Instagram</a>
        <a href="mailto:info@blackgym.com.tr">Mail</a>
      </span>
    </div>
  </footer>

  <!-- Settings Dialog -->
  <dialog id="settingsDialog" aria-label="Ayarlar">
    <div class="sheet-head">
      <div class="h">Ayarlar</div>
      <button class="icon-btn" id="closeSettings" aria-label="Kapat">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M18 6 6 18M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <div class="sheet-body">
      <div class="grid">
        <label>
          Preset
          <select id="preset">
            <option value="custom">Ã–zel</option>
            <option value="tabata">Tabata (20/10 x 8)</option>
            <option value="hiit">HIIT (40/20 x 10)</option>
            <option value="boxing">Boxing (3:00/1:00 x 6)</option>
          </select>
        </label>
        <label>
          Tur (Round)
          <input id="rounds" type="number" min="1" max="99" inputmode="numeric" value="8" />
        </label>
        <label>
          Ã‡alÄ±ÅŸma (sn)
          <input id="work" type="number" min="5" max="3600" inputmode="numeric" value="20" />
        </label>
        <label>
          Dinlenme (sn)
          <input id="rest" type="number" min="0" max="3600" inputmode="numeric" value="10" />
        </label>
      </div>

      <div class="switch">
        <div class="txt">
          TitreÅŸim
          <small>Tur/phase geÃ§iÅŸlerinde haptic</small>
        </div>
        <input id="vibration" type="checkbox" checked />
      </div>

      <div class="switch">
        <div class="txt">
          Ses (Bip)
          <small>BaÅŸlangÄ±Ã§ ve geÃ§iÅŸlerde kÄ±sa bip</small>
        </div>
        <input id="sound" type="checkbox" checked />
      </div>

      <div class="switch">
        <div class="txt">
          EkranÄ± aÃ§Ä±k tut
          <small>Antrenmanda ekran kapanmasÄ±n</small>
        </div>
        <input id="wakelock" type="checkbox" />
      </div>
    </div>

    <div class="sheet-actions">
      <button class="btn btn-ghost" id="copyExport">KAYITLARI KOPYALA</button>
      <button class="btn btn-primary" id="saveSettings">KAYDET</button>
    </div>
  </dialog>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
  (function(){
    // ---------- Small helpers ----------
    const $ = (id) => document.getElementById(id);
    const clamp = (n, a, b) => Math.max(a, Math.min(b, n));

    const fmt2 = (n) => String(n).padStart(2,'0');
    const formatMs = (ms) => {
      const total = Math.max(0, Math.floor(ms));
      const m = Math.floor(total / 60000);
      const s = Math.floor((total % 60000) / 1000);
      const cs = Math.floor((total % 1000) / 10);
      return `${fmt2(m)}:${fmt2(s)}.${fmt2(cs)}`;
    };
    const formatDisplay = (ms) => {
      const t = formatMs(ms);
      const [mmss, cs] = t.split('.');
      return `${mmss}<span class="ms">.${cs}</span>`;
    };

    const toastEl = $('toast');
    let toastT = null;
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      clearTimeout(toastT);
      toastT = setTimeout(()=> toastEl.classList.remove('show'), 1600);
    }

    // Beep
    let audioCtx = null;
    function bip(){
      if(!settings.sound) return;
      try{
        audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type = 'sine';
        o.frequency.value = 880;
        g.gain.value = 0.04;
        o.connect(g); g.connect(audioCtx.destination);
        o.start();
        o.stop(audioCtx.currentTime + 0.08);
      }catch(e){}
    }

    function vibrate(ms){
      if(!settings.vibration) return;
      try{ if(navigator.vibrate) navigator.vibrate(ms); }catch(e){}
    }

    // Wake Lock
    let wakeLock = null;
    async function setWakeLock(on){
      if(!('wakeLock' in navigator)) return;
      try{
        if(on && !wakeLock){
          wakeLock = await navigator.wakeLock.request('screen');
          wakeLock.addEventListener('release', ()=> { wakeLock = null; });
        }
        if(!on && wakeLock){
          await wakeLock.release();
          wakeLock = null;
        }
      }catch(e){}
    }

    // ---------- DOM ----------
    const display = $('display');
    const startStopBtn = $('startStopBtn');
    const resetBtn = $('resetBtn');
    const lapBtn = $('lapBtn');
    const lapsList = $('lapsList');
    const lapCountLabel = $('lapCount');
    const lapsTitle = $('lapsTitle');
    const totalLabel = $('totalLabel');
    const lapLabel = $('lapLabel');
    const badgeLeft = $('badgeLeft');
    const badgeRight = $('badgeRight');
    const srPhase = $('srPhase');

    const tabStopwatch = $('tabStopwatch');
    const tabInterval = $('tabInterval');
    const settingsBtn = $('settingsBtn');

    const dlg = $('settingsDialog');
    const closeSettings = $('closeSettings');
    const saveSettings = $('saveSettings');
    const copyExport = $('copyExport');

    const preset = $('preset');
    const roundsInput = $('rounds');
    const workInput = $('work');
    const restInput = $('rest');
    const vibrationToggle = $('vibration');
    const soundToggle = $('sound');
    const wakeToggle = $('wakelock');

    const year = $('year');
    if(year) year.textContent = new Date().getFullYear();

    // Mobile nav toggle
    const navToggle = $('navToggle');
    const nav = $('primary-nav');
    if(navToggle && nav){
      navToggle.addEventListener('click', ()=>{
        const open = nav.classList.toggle('is-open');
        navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
    }

    // ---------- State ----------
    const STORAGE_KEY = 'bg_chrono_v2';

    const defaults = {
      mode: 'stopwatch',
      vibration: true,
      sound: true,
      wake: false,
      interval: { preset: 'tabata', rounds: 8, work: 20, rest: 10 },
      laps: []
    };

    function loadState(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return structuredClone(defaults);
        const parsed = JSON.parse(raw);
        return {
          ...structuredClone(defaults),
          ...parsed,
          interval: { ...defaults.interval, ...(parsed.interval||{}) }
        };
      }catch(e){
        return structuredClone(defaults);
      }
    }

    function saveState(){
      try{
        localStorage.setItem(STORAGE_KEY, JSON.stringify({
          mode,
          vibration: settings.vibration,
          sound: settings.sound,
          wake: settings.wake,
          interval: settings.interval,
          laps
        }));
      }catch(e){}
    }

    const initial = loadState();
    let mode = initial.mode;

    const settings = {
      vibration: !!initial.vibration,
      sound: !!initial.sound,
      wake: !!initial.wake,
      interval: {
        preset: initial.interval.preset || 'tabata',
        rounds: clamp(Number(initial.interval.rounds)||8, 1, 99),
        work: clamp(Number(initial.interval.work)||20, 5, 3600),
        rest: clamp(Number(initial.interval.rest)||10, 0, 3600)
      }
    };

    // Stopwatch runtime
    let swRunning = false;
    let swAccum = 0;
    let swStart = 0;
    let rafId = null;

    // Laps
    let laps = Array.isArray(initial.laps) ? initial.laps : [];

    // Interval runtime
    let intRunning = false;
    let intPhase = 'work';
    let intRound = 1;
    let intLeftMs = settings.interval.work * 1000;
    let intLastTick = 0;

    // ---------- Rendering ----------
    function setTabs(){
      const sw = mode === 'stopwatch';
      tabStopwatch.setAttribute('aria-selected', sw ? 'true' : 'false');
      tabInterval.setAttribute('aria-selected', sw ? 'false' : 'true');

      lapsTitle.textContent = sw ? 'Turlar' : 'AralÄ±klar';
      lapBtn.textContent = sw ? 'TUR' : 'SONRAKÄ°';

      // Subline labels
      badgeLeft.innerHTML = sw ? `Toplam: <b id="totalLabel">${formatMs(currentTotalMs())}</b>` : `Tur: <b id="totalLabel">${intRound}/${settings.interval.rounds}</b>`;
      badgeRight.innerHTML = sw ? `Tur: <b id="lapLabel">${formatMs(currentLapMs())}</b>` : `${intPhaseLabel()}: <b id="lapLabel">${formatMs(intLeftMs)}</b>`;

      // Keep refs updated
      window.totalLabel = $('totalLabel');
      window.lapLabel = $('lapLabel');

      lapBtn.disabled = sw ? !swRunning : !intRunning;

      if(!sw){
        intLeftMs = settings.interval.work * 1000;
        intPhase = 'work';
        intRound = 1;
      }

      startStopBtn.textContent = isRunning() ? 'DURAKLAT' : 'BAÅžLAT';
      display.innerHTML = sw ? formatDisplay(currentTotalMs()) : formatDisplay(intLeftMs);

      renderLaps();
      saveState();
    }

    function intPhaseLabel(){
      return intPhase === 'work' ? 'Ã‡alÄ±ÅŸma' : 'Dinlenme';
    }

    function currentTotalMs(){
      if(!swRunning) return swAccum;
      return swAccum + (performance.now() - swStart);
    }

    function currentLapMs(){
      const total = currentTotalMs();
      const prevTotal = laps.length ? laps[0].totalMs : 0;
      return Math.max(0, total - prevTotal);
    }

    function isRunning(){
      return mode === 'stopwatch' ? swRunning : intRunning;
    }

    function setUIState(){
      const running = isRunning();
      startStopBtn.textContent = running ? 'DURAKLAT' : (mode === 'stopwatch' && swAccum > 0 ? 'DEVAM ET' : 'BAÅžLAT');
      lapBtn.disabled = !running;
    }

    function renderLaps(){
      lapCountLabel.textContent = `${laps.length} KayÄ±t`;

      if(!laps.length){
        lapsList.innerHTML = '<div style="padding:14px; color:rgba(156,163,175,.9); font-weight:800;">HenÃ¼z kayÄ±t yok. BaÅŸlatÄ±p TUR ile split al.</div>';
        return;
      }

      let bestIdx = -1;
      if(mode === 'stopwatch'){
        let best = Infinity;
        laps.forEach((x, i)=>{
          if(x.splitMs > 0 && x.splitMs < best){ best = x.splitMs; bestIdx = i; }
        });
      }

      const items = laps.map((x, i)=>{
        const idx = laps.length - i;
        const bestClass = (mode === 'stopwatch' && i === bestIdx) ? 'best' : '';
        const leftLabel = mode === 'stopwatch' ? 'Split' : 'SÃ¼re';
        const rightLabel = mode === 'stopwatch' ? 'Toplam' : 'Toplam';
        return `
          <div class="lap-item ${bestClass}">
            <div class="lap-idx">#${idx}</div>
            <div class="lap-col">
              <div class="label">${leftLabel}</div>
              <div class="val">${formatMs(x.splitMs)}</div>
            </div>
            <div class="lap-col">
              <div class="label">${rightLabel}</div>
              <div class="val">${formatMs(x.totalMs)}</div>
            </div>
          </div>
        `;
      }).join('');

      lapsList.innerHTML = items;

      const sc = $('lapsScroll');
      if(sc) sc.scrollTop = 0;
    }

    function updateStopwatchFrame(){
      if(!swRunning) return;
      const total = currentTotalMs();
      display.innerHTML = formatDisplay(total);

      const totalEl = $('totalLabel');
      const lapEl = $('lapLabel');
      if(totalEl) totalEl.textContent = formatMs(total);
      if(lapEl) lapEl.textContent = formatMs(currentLapMs());

      rafId = requestAnimationFrame(updateStopwatchFrame);
    }

    function updateIntervalFrame(now){
      if(!intRunning) return;

      if(!intLastTick) intLastTick = now;
      const dt = now - intLastTick;
      intLastTick = now;

      intLeftMs = Math.max(0, intLeftMs - dt);

      display.innerHTML = formatDisplay(intLeftMs);
      const lapEl = $('lapLabel');
      const totalEl = $('totalLabel');
      if(lapEl) lapEl.textContent = formatMs(intLeftMs);
      if(totalEl) totalEl.textContent = `${intRound}/${settings.interval.rounds}`;

      srPhase.textContent = `${intPhaseLabel()} ${intRound} / ${settings.interval.rounds}`;

      if(intLeftMs <= 0){
        const phaseDur = (intPhase === 'work' ? settings.interval.work : settings.interval.rest) * 1000;
        const programTotal = programElapsedMs();
        laps.unshift({ totalMs: programTotal, splitMs: phaseDur });
        renderLaps();

        vibrate(25);
        bip();

        if(intPhase === 'work'){
          if(settings.interval.rest > 0){
            intPhase = 'rest';
            intLeftMs = settings.interval.rest * 1000;
          }else{
            if(intRound >= settings.interval.rounds){
              stopInterval(true);
              return;
            }
            intRound += 1;
            intPhase = 'work';
            intLeftMs = settings.interval.work * 1000;
          }
        } else {
          if(intRound >= settings.interval.rounds){
            stopInterval(true);
            return;
          }
          intRound += 1;
          intPhase = 'work';
          intLeftMs = settings.interval.work * 1000;
        }

        setUIState();
        toast(`${intPhaseLabel()} â€¢ ${intRound}/${settings.interval.rounds}`);
      }

      rafId = requestAnimationFrame(updateIntervalFrame);
    }

    function programElapsedMs(){
      const w = settings.interval.work * 1000;
      const r = settings.interval.rest * 1000;
      const roundDone = intRound - 1;
      const base = roundDone * (w + (settings.interval.rest > 0 ? r : 0));
      const curPhaseTotal = (intPhase === 'work' ? w : r);
      return base + (curPhaseTotal - intLeftMs);
    }

    // ---------- Actions ----------
    async function toggleTimer(){
      if(mode === 'stopwatch'){
        if(swRunning){
          swAccum = currentTotalMs();
          swRunning = false;
          if(rafId) cancelAnimationFrame(rafId);
          rafId = null;
          setUIState();
          await setWakeLock(false);
          saveState();
          vibrate(10);
          return;
        }

        swStart = performance.now();
        swRunning = true;
        setUIState();
        if(settings.wake) await setWakeLock(true);
        rafId = requestAnimationFrame(updateStopwatchFrame);
        saveState();
        vibrate(15);
        bip();
        return;
      }

      // Interval
      if(intRunning){
        intRunning = false;
        if(rafId) cancelAnimationFrame(rafId);
        rafId = null;
        setUIState();
        await setWakeLock(false);
        saveState();
        vibrate(10);
        return;
      }

      intRunning = true;
      intLastTick = 0;
      setUIState();
      if(settings.wake) await setWakeLock(true);
      bip(); vibrate(15);
      rafId = requestAnimationFrame(updateIntervalFrame);
      saveState();
    }

    function recordLap(){
      if(mode === 'stopwatch'){
        if(!swRunning) return;
        const total = currentTotalMs();
        const prev = laps.length ? laps[0].totalMs : 0;
        const split = Math.max(0, total - prev);
        laps.unshift({ totalMs: total, splitMs: split });
        renderLaps();
        vibrate(12);
        bip();
        saveState();
        return;
      }

      if(!intRunning) return;
      toast('Sonraki aÅŸama');
      intLeftMs = 0;
    }

    async function resetAll(){
      const running = isRunning();
      if(running){
        toast('Ã–nce duraklat');
        return;
      }

      // No confirmation popup
      swRunning = false;
      swAccum = 0;
      if(rafId) cancelAnimationFrame(rafId);
      rafId = null;

      intRunning = false;
      intPhase = 'work';
      intRound = 1;
      intLeftMs = settings.interval.work * 1000;

      laps = [];

      display.innerHTML = mode === 'stopwatch' ? formatDisplay(0) : formatDisplay(intLeftMs);
      renderLaps();
      setUIState();
      await setWakeLock(false);
      saveState();
      vibrate(20);
      toast('SÄ±fÄ±rlandÄ±');
    }

    async function stopInterval(finished){
      intRunning = false;
      if(rafId) cancelAnimationFrame(rafId);
      rafId = null;
      await setWakeLock(false);
      setUIState();
      saveState();
      toast(finished ? 'Bitti! ðŸ”¥' : 'DuraklatÄ±ldÄ±');
      vibrate(finished ? 40 : 10);
      if(finished) bip();
    }

    function openSettings(){
      preset.value = settings.interval.preset;
      roundsInput.value = settings.interval.rounds;
      workInput.value = settings.interval.work;
      restInput.value = settings.interval.rest;

      vibrationToggle.checked = settings.vibration;
      soundToggle.checked = settings.sound;
      wakeToggle.checked = settings.wake;

      try{ dlg.showModal(); }catch(e){ dlg.setAttribute('open',''); }
    }

    function closeSettingsFn(){
      try{ dlg.close(); }catch(e){ dlg.removeAttribute('open'); }
    }

    function applyPreset(p){
      if(p === 'tabata') return { rounds:8, work:20, rest:10 };
      if(p === 'hiit') return { rounds:10, work:40, rest:20 };
      if(p === 'boxing') return { rounds:6, work:180, rest:60 };
      return null;
    }

    async function saveSettingsFn(){
      const p = preset.value;
      const pre = applyPreset(p);

      const rounds = clamp(Number(roundsInput.value)||8, 1, 99);
      const work = clamp(Number(workInput.value)||20, 5, 3600);
      const rest = clamp(Number(restInput.value)||10, 0, 3600);

      settings.interval.preset = p;
      settings.interval.rounds = pre ? pre.rounds : rounds;
      settings.interval.work = pre ? pre.work : work;
      settings.interval.rest = pre ? pre.rest : rest;

      settings.vibration = !!vibrationToggle.checked;
      settings.sound = !!soundToggle.checked;
      settings.wake = !!wakeToggle.checked;

      if(mode === 'interval' && !intRunning){
        intPhase = 'work';
        intRound = 1;
        intLeftMs = settings.interval.work * 1000;
        display.innerHTML = formatDisplay(intLeftMs);
      }

      await setWakeLock(settings.wake && isRunning());
      saveState();
      closeSettingsFn();
      toast('Kaydedildi');
    }

    function exportText(){
      const lines = [];
      lines.push(`BLACK GYM Chrono`);
      lines.push(`Mod: ${mode === 'stopwatch' ? 'Kronometre' : 'Interval'}`);
      if(mode === 'interval'){
        lines.push(`Ayar: ${settings.interval.work}s / ${settings.interval.rest}s x ${settings.interval.rounds}`);
      }
      lines.push('');
      if(!laps.length){
        lines.push('KayÄ±t yok.');
      } else {
        laps.slice().reverse().forEach((x, i)=>{
          const n = i+1;
          lines.push(`#${n}  Split: ${formatMs(x.splitMs)}   Toplam: ${formatMs(x.totalMs)}`);
        });
      }
      return lines.join('\n');
    }

    async function copyExportFn(){
      const text = exportText();
      try{
        await navigator.clipboard.writeText(text);
        toast('KopyalandÄ±');
      }catch(e){
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        ta.remove();
        toast('KopyalandÄ±');
      }
    }

    function setMode(next){
      const running = isRunning();
      if(running){ toast('Mod deÄŸiÅŸtirmek iÃ§in duraklat'); return; }
      mode = next;
      saveState();
      setTabs();
      setUIState();
      toast(next === 'stopwatch' ? 'Kronometre modu' : 'Interval modu');
    }

    // ---------- Events ----------
    startStopBtn.addEventListener('click', toggleTimer);
    resetBtn.addEventListener('click', resetAll);
    lapBtn.addEventListener('click', recordLap);

    tabStopwatch.addEventListener('click', ()=> setMode('stopwatch'));
    tabInterval.addEventListener('click', ()=> setMode('interval'));

    settingsBtn.addEventListener('click', openSettings);
    closeSettings.addEventListener('click', closeSettingsFn);
    saveSettings.addEventListener('click', saveSettingsFn);
    copyExport.addEventListener('click', copyExportFn);

    preset.addEventListener('change', ()=>{
      const p = preset.value;
      const pre = applyPreset(p);
      if(pre){
        roundsInput.value = pre.rounds;
        workInput.value = pre.work;
        restInput.value = pre.rest;
      }
    });

    // Keyboard
    document.addEventListener('keydown', (e)=>{
      const key = (e.key || '').toLowerCase();
      if(key === ' ' || e.code === 'Space') { e.preventDefault(); toggleTimer(); }
      if(key === 'l') { recordLap(); }
      if(key === 'r') { resetAll(); }
      if(key === 's') { openSettings(); }
      if(key === 'escape') { if(dlg.open) closeSettingsFn(); }
    });

    document.addEventListener('visibilitychange', ()=>{
      if(document.hidden) setWakeLock(false);
      else setWakeLock(settings.wake && isRunning());
    });

    // ---------- Init ----------
    vibrationToggle.checked = settings.vibration;
    soundToggle.checked = settings.sound;
    wakeToggle.checked = settings.wake;

    renderLaps();
    setTabs();
    setUIState();

    if(!laps.length) toast('HazÄ±r. Space ile baÅŸlat');
  })();
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RLTN0JV889"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RLTN0JV889', { 'anonymize_ip': true });
  </script>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"BLACK GYM Online Antrenman Kronometresi",
    "url":"https://blackgym.com.tr/chrono.html",
    "applicationCategory":"HealthAndFitnessApplication",
    "operatingSystem":"All",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"TRY"},
    "publisher":{"@type":"Organization","name":"BLACK GYM","url":"https://blackgym.com.tr/"}
  }
  </script>
</body>
</html>